<!DOCTYPE html>
<html lang = "en">
  <meta charset = "utf-8">
  <link rel = "stylesheet" href = "./style.css"></link>
  <link href="https://fonts.googleapis.com/css?family=Roboto|Titillium+Web&display=swap" rel="stylesheet">
  <title>Constellations of Protest</title>
  <script type="text/javascript" src = "./graphic-scripts/loading-animation.js"></script>

</head>

<body onLoad="document.getElementById('stateSelect').options[9].selected = 'selected';">
  <header>
    <object type = "image/svg+xml" data = "img/header.svg"></object>
  </header>
  <main>
    <p id = "intro">Americans have taken to the streets in more than twenty thousand protests since the inauguration of President Donald Trump. Some movements, like the Women's March, started at the national level; others, like March For Our Lives, began locally before spreading across the country.</p>

    <p>Protest doesn’t belong to coastal cities, college towns, or liberal causes. Rather, protest is a tool that can be used to create pressure and force change. It’s just as useful for conservative causes as liberal ones: the conservative Tea Party protests pushed legislators to the right during Barack Obama's presidency. And protest is a powerful response to local issues, not just sweeping national causes.</p>

    <p>Read on to explore protest in America since January 2017, or <a href ="#statecompare">skip ahead to see how your state compares to the rest of the country.</a></p>

    <!-- Playing map and bar chart go here -->
    <h1>Protests Over Time</h1>

    <p>Watch protest spread week-by-week over the United States.</p>
    <div id="map-wrapper">
    </div>
    <div id = "full-bar-wrapper">
      <svg width = 10 id = "trace-line-wrapper">
        <line x1 = "0" y1 = "0" x2 = "0" y2 = "200" id = "trace-line"></line>
      </svg>
      <div id = "bar-control">
          <button id = "play-button">Pause</button>
        <div id="slider-time"></div>
      </div>
      <div id = "bar-plot-wrapper"></div>
      <div id = "bar-tooltip" class = "hidden">
        <p>Week of <span id = "week-bar-tooltip"></span></p>
        <p><span id = "protest-count">100</span> protests</p>
      </div>
    </div>
    <p>This project uses data from CountLove.org, which catalogues protests in America by scraping news stories about protests. The data begin on January 15, 2017, so it isn’t possible to compare protests during Donald Trump's presidency to protests during previous administrations. However, the CountLove data give us a rich look into nearly three years of American protest.</p>

    <h1>Places Connected By Protest</h1>

    <p>These constellations show places with unusually high numbers of protests about a particular topic, given the number of people who live in that place. Places that protest about the same topics at the same time are connected to form constellations. The small gray dots show every place where protests about this topic took place.</p>

    <form id = "constellation-selector">
      <p>Choose a topic:</p>
      <button id = "guns">Guns</button>
      <button id = "immigration">Immigration</button>
      <button id = "women">Women</button>
      <button id = "executive">Executive</button>
      <button id = "race_confed">Racial Justice or White Supremacy</button>
      <button id = "environment">Environment</button>
      <button id = "education">Education</button>
      <button id = "supreme_court">Supreme Court</button>
      <button id = "police">Police</button>
      <button id = "healthcare">Healthcare</button>
      <button id = "collective_bargaining">Collective Bargaining</button>

    </form>
    <h2>Where Americans protest about <span id = "constellation topic">guns</span></h2>

      <div id = "const-map-wrapper">
        <div id = "const-map-tooltip" class = "hidden">
          <p><span id = "const-map-place">Place name</span></p>
        </div>
      </div>

    <h1>Protest Over Time</h1>
    <p>Waves of protest swell in response to current events, sometimes appearing
      overnight and fading quickly.</p>
    <div id = "streamgraph">
    </div>
    <p>National attention is no guarantee of protest on a national scale. Organizing is key to making protest happen.</p>
    <p>Consider protests about guns. Minimal protest followed shootings in Las Vegas, Texas First Baptist Church, and Rancho Tehama.  But after the Parkland school shooting in February 2018,
    students from Parkland organized March For Our Lives,
    one of the largest street protests in American history, and a series of
    nationwide school walkouts.</p>
    <object type = "image/svg+xml" data = "img/gun_per_week.svg"></object>

    <h1>Where We Protest</h1>
    <p>Focusing on topics at the national level emphasizes coordinated protest campaigns like March For Our Lives and Families Belong Together. But the United States isn’t always unified, and issues like education inspire protest in some states but not others.</p>

    <p>West Virginia led the nation in education-related protests and began a nationwide wave of education protests and teacher strikes. Teachers defied West Virginia state law to hold an 8-day strike in 2018, pushing for better pay and reduced healthcare costs. Teachers and parents rallied before the strike, and teachers stood on picket lines as the strike dragged on for a total of 50 protests in 39 days. The strike ended on March 7, when the governor of West Virginia signed a bill authorizing a five percent pay raise.</p>

    <object type = "image/svg+xml" data = "img/edu_per_week.svg"></object>

    <p>Teacher strikes spread through other states in 2018 and 2019, including Oklahoma and Arizona. This year, teachers in West Virginia only had to strike for a few hours before the West Virginia House of Delegates indefinitely postponed a vote on a bill introducing charter schools and educational vouchers </p>

    <object type = "image/svg+xml" data = "img/state_protest_topic.svg"></object>

    <h1 id = "statecompare">How does your state compare?</h1>

    <form>
      <label>Choose your state:
        <select name = "states" id = "stateSelect">
          <option value= "AL">Alabama</option>
          <option value= "AK">Alaska</option>
          <option value= "AZ">Arizona</option>
          <option value= "AR">Arkansas</option>
          <option value= "CA">California</option>
          <option value= "CO">Colorado</option>
          <option value= "CT">Connecticut</option>
          <option value= "DE">Delaware</option>
          <option value= "DC">District of Columbia</option>
          <option value= "FL" selected default>Florida</option>
          <option value= "GA">Georgia</option>
          <option value= "HI">Hawaii</option>
          <option value= "ID">Idaho</option>
          <option value= "IL">Illinois</option>
          <option value= "IN">Indiana</option>
          <option value= "IA">Iowa</option>
          <option value= "KS">Kansas</option>
          <option value= "KY">Kentucky</option>
          <option value= "LA">Louisiana</option>
          <option value= "ME">Maine</option>
          <option value= "MD">Maryland</option>
          <option value= "MA">Massachusetts</option>
          <option value= "MI">Michigan</option>
          <option value= "MN">Minnesota</option>
          <option value= "MS">Mississippi</option>
          <option value= "MO">Missouri</option>
          <option value= "MT">Montana</option>
          <option value= "NE">Nebraska</option>
          <option value= "NV">Nevada</option>
          <option value= "NH">New Hampshire</option>
          <option value= "NJ">New Jersey</option>
          <option value= "NM">New Mexico</option>
          <option value= "NY">New York</option>
          <option value= "NC">North Carolina</option>
          <option value= "ND">North Dakota</option>
          <option value= "OH">Ohio</option>
          <option value= "OK">Oklahoma</option>
          <option value= "OR">Oregon</option>
          <option value= "PA">Pennsylvania</option>
          <option value= "RI">Rhode Island</option>
          <option value= "SC">South Carolina</option>
          <option value= "SD">South Dakota</option>
          <option value= "TN">Tennessee</option>
          <option value= "TX">Texas</option>
          <option value= "UT">Utah</option>
          <option value= "VT">Vermont</option>
          <option value= "VI">Virginia</option>
          <option value= "WA">Washington State</option>
          <option value= "WV">West Virginia</option>
          <option value= "WI">Wisconsin</option>
          <option value= "WY">Wyoming</option>
        </select>
    </label>
    </form>

      <div id = "state-dotplot">
        <div id = "state-sentence"><p>Protests in <span id = "state-name">Florida</span> focus more on <span id = "top-protest-topic-one">guns</span><span id = "top-protest-topic-bridge"> and </span><span id = "top-protest-topic-two">the executive branch</span> than other states, and focus less on <span id = "bottom-protest-topic-one">the Supreme Court</span><span id = "bottom-protest-topic-bridge"> and </span> <span id = "bottom-protest-topic-two">healthcare</span>.</p></div>
        <div id = "state-dot-tooltip" class = "hidden">
          <p><span id = "state-percentile">100</span> of protests in <span id = "tooltip-state">FL</span> were about <span id = "dot-topic">topic</span></p>
      </div>
    </div>
    <div id = "methods">
      <h2>Methods</h2>
      <h3>Data source</h3>
        <p>Protest data is from <a href = "https://countlove.org/">Count Love</a>, a project by Nathan Perkins and Tommy Leung. Population data is from the U.S. Census (2017 American Community Survey population estimates).</p>
      <h3>Dates</h3>
        <p>Weeks in this project begin on Monday and end on Sunday so that protests on the same weekend are grouped together.</p>
      <h3>Places</h3>
        <p>Latitude and longitude for each protest were provided by Nathan Perkins and Tommy Leung. “Places” in this graphic are metropolitan statistical areas, micropolitan statistical areas, and counties. Metropolitan and micropolitan statistical areas contain at least one urban area surrounded by areas with close social and economic ties to that urban area (U.S. Census: https://www.census.gov/topics/housing/housing-patterns/about/core-based-statistical-areas.html). Protests that occurred outside metropolitan/micropolitan areas were grouped by county.</p>
      <h3>Topics</h3>
        <p>Topics are based on CountLove’s tagging system. Topics do not imply an ideological stance: for instance, “guns” includes protests for and against gun control. The topics “racial justice or white supremacy,” “police,” and “women’s rights” were created by combining sub-tags within “civil rights.” Many protests are tagged in more than one topic, and are counted once within each of those topics.</p>
      <h3>Creating constellations</h3>
        <p>Constellations were designed to highlight places with unusually high amounts of protests about a topic, given the place’s population and overall number of protests in that place. To be included in a constellation, a place had to have a high number of protests about the topic and a high number of protests per person about the topic. Additionally, a large percentage of all protests in that area needed to be about the topic. Each place within a constellation is connected to the place that most often protested about the same topic on the same weeks. For instance, San Diego-Carlsbad, CA tended to protest about immigration at the same time as El Paso, TX, so they are connected in the immigration constellation. A pair of places is also connected if it is in the 98th percentile of co-occurrence for that topic. El Paso is also connected to Austin-Round Rock TX, and Portland-Vancouver-Hillsboro, OR-WA because they very frequently protest about immigration at the same time. The white dots for each place within a constellation are scaled based on the number of protests in that place, while the weight and opacity of the connections are scaled based on the number of weeks both places protested about the same topic. Places that protested in </p>
      <h3>Top topics by state</h3>
      <p>“Percent of protest in each state” is calculated by dividing the number of protests in a state about a topic by the total number of protests in that state. Topics are highlighted as particularly common or uncommon for each state if the percent of protests in that state were in the 80th percentile  among all states, or in the bottom 25th percentile. If a state was in the 80th or 25th percentile more than two times, the top or bottom two topics were chosen.</p>
    </div>


  </main>
<footer>
  <div class = "footer"><p>Project by <a href = "www.alyssafowers.com">Alyssa Fowers</a></p>
  <p><a href = "https://github.com/alyssafowers/protests">GitHub repository for Constellations of Protest</a></p>
  <p>Data from <a href = "countlove.org">Count Love</a></p>
</div>
</footer>
</body>

<script src="./d3_v5.js"></script>
<script src="./d3-simple-slider.js"></script>
<script src="https://d3js.org/d3-array.v2.min.js"></script>
<script src = "./graphic-scripts/map-bar-play-pause-scrubber.js"></script>
<script src = "./graphic-scripts/streamgraph_click.js"></script>
<script src = "./graphic-scripts/constellation_draw.js"></script>
<!-- can't get state dots to load from within graphic-scripts, even though it is DEFINITELY THERE and loads in other directories -->
<script src = "./state_dot.js"></script>


</html>
